(()=>{"use strict";var e={576:(e,t,o)=>{o.d(t,{q:()=>c});const c=[{code:"70f1f00586d008394ec9826e1bad2a1b3531dfa38078f183d121c83dad99c5fb",open:"2024-08-01",close:"2024-10-01"},{code:"490584c1f63875c1e2a3b15d2a398276f6d122476dafd0d7ba0da12014cb40a4",open:"2024-10-01",close:"2024-12-01"},{code:"7d890c992c12fd806fc2b9eb23461fe25bcfac15a50f579f39c3c586c7b70857",open:"2024-12-01",close:"2025-02-01"},{code:"7ad904063fff385d07a771e0eb5732f8e7e21713935b52e5d07a875a4ce1dff1",open:"2025-02-01",close:"2025-04-01"},{code:"f2c3b259142379e575edee8c3dca4976443ff4248b8391c51079ee78aea7dfb4",open:"2025-04-01",close:"2025-06-01"}],n=localStorage.getItem("code"),r="https://fibc.github.io/security.html"!==window.location.href;!n&&r&&(window.location.href="/security.html"),0===c.filter((({code:e})=>e===n)).filter((({open:e})=>(e=>e.split("-").join("")<=(new Date).toISOString().slice(0,10).split("-").join(""))(e))).filter((()=>localStorage.getItem("codeClose").split("-").join("")>=(new Date).toISOString().slice(0,10).split("-").join(""))).length&&r&&(window.location.href="/security.html")}},t={};function o(c){var n=t[c];if(void 0!==n)return n.exports;var r=t[c]={exports:{}};return e[c](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var c in t)o.o(t,c)&&!o.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=o(576);(()=>{const e=document.createElement("main"),t=document.createElement("div");t.classList.add("security");const o=document.createElement("h1");o.classList.add("security__title"),o.textContent="Welcome!";const c=document.createElement("div");c.classList.add("security__row");const n=document.createElement("div");n.classList.add("security__input");const r=document.createElement("input");r.type="text",r.placeholder="xxxx xxxx xxxx",r.id="code",r.maxLength="14",r.autocomplete="off";const a=document.createElement("label");a.textContent="Упс, код неверен :(";const d=document.createElement("button");d.classList.add("btn-security"),n.append(r,a),c.append(n,d),t.append(o,c),e.append(t),document.body.append(e)})();const t=()=>{if(Number(localStorage.getItem("errorCode"))>=5){document.querySelector(".security").remove();const e=document.querySelector("main"),t=document.createElement("div");t.classList.add("stop"),t.textContent="Упс, доступ закрыт :(",e.append(t),document.body.append(e)}};t();async function c(o=null){const c=document.getElementById("code"),n=o??c.value.replaceAll(" ","");if(""===n)return;const r=await async function(e,t){const o=(new TextEncoder).encode(e+"4689748nfngngydn"),c=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(c)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(n),a=e.q.filter((({code:e})=>e===r)).filter((({open:e})=>(e=>e.split("-").join("")<=(new Date).toISOString().slice(0,10).split("-").join(""))(e))).filter((({close:e})=>(e=>e.split("-").join("")>=(new Date).toISOString().slice(0,10).split("-").join(""))(e)));if(0!==a.length){const e=new Date;e.setMonth(e.getMonth()+2);const{code:t}=a[0];localStorage.setItem("code",t),localStorage.setItem("codeClose",e.toISOString().slice(0,10)),localStorage.removeItem("errorCode"),window.location.href="/"}else{c.value="";const e=localStorage.getItem("errorCode");localStorage.setItem("errorCode",(Number(e)??0)+1),(()=>{const e=document.querySelector(".security");Number(localStorage.getItem("errorCode"))>0&&e.classList.add("error-code"),t()})(),t()}}(()=>{const e=document.querySelector(".btn-security");null!==e&&e.addEventListener("click",(()=>c()))})(),async function(){const e=new URLSearchParams(window.location.search).get("code");e&&await c(e)}(),document.addEventListener("keydown",(e=>{(e.ctrlKey&&"KeyC"===e.code||e.ctrlKey&&"Insert"===e.code)&&(alert("Ой! Зачем вы хотите скопировать материалы сайта?"),e.preventDefault()),(e.ctrlKey&&e.shiftKey&&"KeyI"===e.code||e.ctrlKey&&"KeyU"===e.code)&&(alert("Ой! Зачем вы хотите посмотреть код сайта?"),e.preventDefault()),"Enter"===e.code&&c()})),document.body.oncopy=()=>!1,document.body.ondragstart=()=>!1})()})();
